{"ast":null,"code":"import clamp from 'lodash-es/clamp';\nimport { eventScope, getPosition } from '../utils/';\nexport function selectHandler(scrollbar) {\n  var addEvent = eventScope(scrollbar);\n  var containerEl = scrollbar.containerEl,\n      contentEl = scrollbar.contentEl;\n  var isSelected = false;\n  var animationID;\n\n  function scroll(_a) {\n    var x = _a.x,\n        y = _a.y;\n    if (!x && !y) return;\n    var offset = scrollbar.offset,\n        limit = scrollbar.limit; // DISALLOW delta transformation\n\n    scrollbar.setMomentum(clamp(offset.x + x, 0, limit.x) - offset.x, clamp(offset.y + y, 0, limit.y) - offset.y);\n    animationID = requestAnimationFrame(function () {\n      scroll({\n        x: x,\n        y: y\n      });\n    });\n  }\n\n  addEvent(window, 'mousemove', function (evt) {\n    if (!isSelected) return;\n    cancelAnimationFrame(animationID);\n    var dir = calcMomentum(scrollbar, evt);\n    scroll(dir);\n  });\n  addEvent(contentEl, 'selectstart', function (evt) {\n    evt.stopPropagation();\n    cancelAnimationFrame(animationID);\n    isSelected = true;\n  });\n  addEvent(window, 'mouseup blur', function () {\n    cancelAnimationFrame(animationID);\n    isSelected = false;\n  }); // patch for touch devices\n\n  addEvent(containerEl, 'scroll', function (evt) {\n    evt.preventDefault();\n    containerEl.scrollTop = containerEl.scrollLeft = 0;\n  });\n}\n\nfunction calcMomentum(scrollbar, evt) {\n  var _a = scrollbar.bounding,\n      top = _a.top,\n      right = _a.right,\n      bottom = _a.bottom,\n      left = _a.left;\n\n  var _b = getPosition(evt),\n      x = _b.x,\n      y = _b.y;\n\n  var res = {\n    x: 0,\n    y: 0\n  };\n  var padding = 20;\n  if (x === 0 && y === 0) return res;\n\n  if (x > right - padding) {\n    res.x = x - right + padding;\n  } else if (x < left + padding) {\n    res.x = x - left - padding;\n  }\n\n  if (y > bottom - padding) {\n    res.y = y - bottom + padding;\n  } else if (y < top + padding) {\n    res.y = y - top - padding;\n  }\n\n  res.x *= 2;\n  res.y *= 2;\n  return res;\n}","map":{"version":3,"mappings":"AAAA,OAAOA,KAAP,MAAkB,iBAAlB;AAGA,SACEC,UADF,EAEEC,WAFF,QAGO,WAHP;AAKA,OAAM,SAAUC,aAAV,CAAwBC,SAAxB,EAA8C;AAClD,MAAMC,QAAQ,GAAGJ,UAAU,CAACG,SAAD,CAA3B;AACQ;AAAA,MAAaE,+BAAb;AAER,MAAIC,UAAU,GAAG,KAAjB;AACA,MAAIC,WAAJ;;AAEA,WAASC,MAAT,CAAgBC,EAAhB,EAAwB;QAANC;QAAGC;AACnB,QAAI,CAACD,CAAD,IAAM,CAACC,CAAX,EAAc;AAEN;AAAA,QAAQC,uBAAR,CAHc,CAItB;;AACAT,aAAS,CAACU,WAAV,CACEd,KAAK,CAACe,MAAM,CAACJ,CAAP,GAAWA,CAAZ,EAAe,CAAf,EAAkBE,KAAK,CAACF,CAAxB,CAAL,GAAkCI,MAAM,CAACJ,CAD3C,EAEEX,KAAK,CAACe,MAAM,CAACH,CAAP,GAAWA,CAAZ,EAAe,CAAf,EAAkBC,KAAK,CAACD,CAAxB,CAAL,GAAkCG,MAAM,CAACH,CAF3C;AAKAJ,eAAW,GAAGQ,qBAAqB,CAAC;AAClCP,YAAM,CAAC;AAAEE,SAAC,GAAH;AAAKC,SAAC;AAAN,OAAD,CAAN;AACD,KAFkC,CAAnC;AAGD;;AAEDP,UAAQ,CAACY,MAAD,EAAS,WAAT,EAAsB,UAACC,GAAD,EAAgB;AAC5C,QAAI,CAACX,UAAL,EAAiB;AAEjBY,wBAAoB,CAACX,WAAD,CAApB;AAEA,QAAMY,GAAG,GAAGC,YAAY,CAACjB,SAAD,EAAYc,GAAZ,CAAxB;AAEAT,UAAM,CAACW,GAAD,CAAN;AACD,GARO,CAAR;AAUAf,UAAQ,CAACC,SAAD,EAAY,aAAZ,EAA2B,UAACY,GAAD,EAAW;AAC5CA,OAAG,CAACI,eAAJ;AACAH,wBAAoB,CAACX,WAAD,CAApB;AAEAD,cAAU,GAAG,IAAb;AACD,GALO,CAAR;AAOAF,UAAQ,CAACY,MAAD,EAAS,cAAT,EAAyB;AAC/BE,wBAAoB,CAACX,WAAD,CAApB;AAEAD,cAAU,GAAG,KAAb;AACD,GAJO,CAAR,CAvCkD,CA6ClD;;AACAF,UAAQ,CAACkB,WAAD,EAAc,QAAd,EAAwB,UAACL,GAAD,EAAW;AACzCA,OAAG,CAACM,cAAJ;AACAD,eAAW,CAACE,SAAZ,GAAwBF,WAAW,CAACG,UAAZ,GAAyB,CAAjD;AACD,GAHO,CAAR;AAID;;AAED,SAASL,YAAT,CACEjB,SADF,EAEEc,GAFF,EAEiB;AAET;AAAA,MAAES,YAAF;AAAA,MAAOC,gBAAP;AAAA,MAAcC,kBAAd;AAAA,MAAsBC,cAAtB;;AACA;AAAA,MAAEnB,QAAF;AAAA,MAAKC,QAAL;;AAEN,MAAMmB,GAAG,GAAG;AACVpB,KAAC,EAAE,CADO;AAEVC,KAAC,EAAE;AAFO,GAAZ;AAKA,MAAMoB,OAAO,GAAG,EAAhB;AAEA,MAAIrB,CAAC,KAAK,CAAN,IAAWC,CAAC,KAAK,CAArB,EAAwB,OAAOmB,GAAP;;AAExB,MAAIpB,CAAC,GAAGiB,KAAK,GAAGI,OAAhB,EAAyB;AACvBD,OAAG,CAACpB,CAAJ,GAASA,CAAC,GAAGiB,KAAJ,GAAYI,OAArB;AACD,GAFD,MAEO,IAAIrB,CAAC,GAAGmB,IAAI,GAAGE,OAAf,EAAwB;AAC7BD,OAAG,CAACpB,CAAJ,GAASA,CAAC,GAAGmB,IAAJ,GAAWE,OAApB;AACD;;AAED,MAAIpB,CAAC,GAAGiB,MAAM,GAAGG,OAAjB,EAA0B;AACxBD,OAAG,CAACnB,CAAJ,GAASA,CAAC,GAAGiB,MAAJ,GAAaG,OAAtB;AACD,GAFD,MAEO,IAAIpB,CAAC,GAAGe,GAAG,GAAGK,OAAd,EAAuB;AAC5BD,OAAG,CAACnB,CAAJ,GAASA,CAAC,GAAGe,GAAJ,GAAUK,OAAnB;AACD;;AAEDD,KAAG,CAACpB,CAAJ,IAAS,CAAT;AACAoB,KAAG,CAACnB,CAAJ,IAAS,CAAT;AAEA,SAAOmB,GAAP;AACD","names":["clamp","eventScope","getPosition","selectHandler","scrollbar","addEvent","contentEl","isSelected","animationID","scroll","_a","x","y","limit","setMomentum","offset","requestAnimationFrame","window","evt","cancelAnimationFrame","dir","calcMomentum","stopPropagation","containerEl","preventDefault","scrollTop","scrollLeft","top","right","bottom","left","res","padding"],"sources":["/home/mohammad/Desktop/MARS-main/node_modules/smooth-scrollbar/src/events/select.ts"],"sourcesContent":["import clamp from 'lodash-es/clamp';\nimport * as I from '../interfaces/';\n\nimport {\n  eventScope,\n  getPosition,\n} from '../utils/';\n\nexport function selectHandler(scrollbar: I.Scrollbar) {\n  const addEvent = eventScope(scrollbar);\n  const { containerEl, contentEl } = scrollbar;\n\n  let isSelected = false;\n  let animationID: number;\n\n  function scroll({ x, y }) {\n    if (!x && !y) return;\n\n    const { offset, limit } = scrollbar;\n    // DISALLOW delta transformation\n    scrollbar.setMomentum(\n      clamp(offset.x + x, 0, limit.x) - offset.x,\n      clamp(offset.y + y, 0, limit.y) - offset.y,\n    );\n\n    animationID = requestAnimationFrame(() => {\n      scroll({ x, y });\n    });\n  }\n\n  addEvent(window, 'mousemove', (evt: MouseEvent) => {\n    if (!isSelected) return;\n\n    cancelAnimationFrame(animationID);\n\n    const dir = calcMomentum(scrollbar, evt);\n\n    scroll(dir);\n  });\n\n  addEvent(contentEl, 'selectstart', (evt: Event) => {\n    evt.stopPropagation();\n    cancelAnimationFrame(animationID);\n\n    isSelected = true;\n  });\n\n  addEvent(window, 'mouseup blur', () => {\n    cancelAnimationFrame(animationID);\n\n    isSelected = false;\n  });\n\n  // patch for touch devices\n  addEvent(containerEl, 'scroll', (evt: Event) => {\n    evt.preventDefault();\n    containerEl.scrollTop = containerEl.scrollLeft = 0;\n  });\n}\n\nfunction calcMomentum(\n  scrollbar: I.Scrollbar,\n  evt: MouseEvent,\n) {\n  const { top, right, bottom, left } = scrollbar.bounding;\n  const { x, y } = getPosition(evt);\n\n  const res = {\n    x: 0,\n    y: 0,\n  };\n\n  const padding = 20;\n\n  if (x === 0 && y === 0) return res;\n\n  if (x > right - padding) {\n    res.x = (x - right + padding);\n  } else if (x < left + padding) {\n    res.x = (x - left - padding);\n  }\n\n  if (y > bottom - padding) {\n    res.y = (y - bottom + padding);\n  } else if (y < top + padding) {\n    res.y = (y - top - padding);\n  }\n\n  res.x *= 2;\n  res.y *= 2;\n\n  return res;\n}\n"]},"metadata":{},"sourceType":"module"}